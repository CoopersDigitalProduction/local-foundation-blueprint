!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(10),o=n(29),r=n(17),a=Object.defineProperty;t.f=n(2)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(1),o=n(12);e.exports=n(2)?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(48),o=n(15);e.exports=function(e){return i(o(e))}},function(e,t,n){var i=n(21)("wks"),o=n(13),r=n(0).Symbol,a="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=a&&r[e]||(a?r:o)("Symbol."+e))}).store=i},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=!0},function(e,t,n){var i=n(8);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(0),o=n(7),r=n(44),a=n(4),s=n(3),c=function(e,t,n){var l,p,_,u=e&c.F,d=e&c.G,m=e&c.S,f=e&c.P,b=e&c.B,h=e&c.W,g=d?o:o[t]||(o[t]={}),w=g.prototype,v=d?i:m?i[t]:(i[t]||{}).prototype;for(l in d&&(n=t),n)(p=!u&&v&&void 0!==v[l])&&s(g,l)||(_=p?v[l]:n[l],g[l]=d&&"function"!=typeof v[l]?n[l]:b&&p?r(_,i):h&&v[l]==_?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(_):f&&"function"==typeof _?r(Function.call,_):_,f&&((g.virtual||(g.virtual={}))[l]=_,e&c.R&&w&&!w[l]&&a(w,l,_)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var i=n(8);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var i=n(33),o=n(22);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t,n){var i=n(21)("keys"),o=n(13);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var i=n(7),o=n(0),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(9)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(1).f,o=n(3),r=n(6)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){t.f=n(6)},function(e,t,n){var i=n(0),o=n(7),r=n(9),a=n(24),s=n(1).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0;var i=a(n(40)),o=a(n(59)),r="function"==typeof o.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===r(i.default)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":r(e)}},function(e,t,n){"use strict";var i=n(9),o=n(16),r=n(31),a=n(4),s=n(18),c=n(46),l=n(23),p=n(53),_=n(6)("iterator"),u=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,m,f,b,h){c(n,t,m);var g,w,v,y=function(e){if(!u&&e in F)return F[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==f,j=!1,F=e.prototype,S=F[_]||F["@@iterator"]||f&&F[f],O=S||y(f),C=f?k?y("entries"):O:void 0,T="Array"==t&&F.entries||S;if(T&&(v=p(T.call(new e)))!==Object.prototype&&v.next&&(l(v,x,!0),i||"function"==typeof v[_]||a(v,_,d)),k&&S&&"values"!==S.name&&(j=!0,O=function(){return S.call(this)}),i&&!h||!u&&!j&&F[_]||a(F,_,O),s[t]=O,s[x]=d,f)if(g={values:k?O:y("values"),keys:b?O:y("keys"),entries:C},h)for(w in g)w in F||r(F,w,g[w]);else o(o.P+o.F*(u||j),t,g);return g}},function(e,t,n){e.exports=!n(2)&&!n(11)(function(){return 7!=Object.defineProperty(n(30)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(8),o=n(0).document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,n){e.exports=n(4)},function(e,t,n){var i=n(10),o=n(47),r=n(22),a=n(20)("IE_PROTO"),s=function(){},c=function(){var e,t=n(30)("iframe"),i=r.length;for(t.style.display="none",n(52).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c.prototype[r[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var i=n(3),o=n(5),r=n(49)(!1),a=n(20)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;t.length>c;)i(s,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(33),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t,n){"use strict";var i=n(38);i.keys().forEach(function(e){i(e)})},function(e,t,n){var i={"./js/script.js":39,"./sass/styles.scss":76};function o(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=38},function(e,t,n){window.jQuery;var i=o(n(27));function o(e){return e&&e.__esModule?e:{default:e}}new(o(n(70)).default);wpmdb.mst={remote_mst_unavailable:!1},function(e,t){var n=e(".mst-options"),o=e("#mst-select-subsite"),r=e(".mst-options .expandable-content"),a=e("#mst-selected-subsite"),s=e(".new-prefix-field"),c=e("#new-prefix"),l=e("#new-prefix-hidden"),p=e("#new-prefix-readonly"),_=e(".mst-unavailable"),u=e(".mst-different-plugin-version-notice"),d=e(".mst-different-prefix-notice"),m=!1,f=null,b=!1,h=e(".table-select-wrap .table-prefix").text();function g(){return!("1"!==o.attr("data-available")||!o.is(":checked"))}function w(){return"true"===wpmdb_data.site_details.is_multisite}function v(){return void 0!==t.mst.remote_connection_data&&void 0!==t.mst.remote_connection_data.site_details&&void 0!==t.mst.remote_connection_data.site_details.is_multisite&&"true"===t.mst.remote_connection_data.site_details.is_multisite}function y(){e.wpmdb.do_action("wpmdb_lock_replace_url",!1),e.wpmdb.do_action("wpmdb_enable_table_migration_options"),o.attr("data-available","0"),o.prop("checked",!1),o.attr("disabled","disabled"),e(".mst").addClass("disabled"),r.hide()}function x(i){if(-1!==e.inArray(t.functions.wpmdb_migration_type(),["savefile","find_replace"])&&!w())return y(),void n.hide();if("import"===t.functions.wpmdb_migration_type())return y(),void n.hide();if(m&&(void 0!==t.mst.remote_connection_data||-1===e.inArray(t.migration_selection,["push","pull"]))){if(!w()&&!v())return y(),void n.hide();if(w()&&v())return y(),void n.hide();if("savefile"!==t.functions.wpmdb_migration_type()&&!1===i&&void 0!==t.mst.remote_connection_data&&void 0!==t.mst.remote_connection_data.site_details&&wpmdb_data.site_details.prefix!==t.mst.remote_connection_data.site_details.prefix)return y(),A(!1),e(".mst-remote-location").html(t.mst.remote_connection_data.url),e(".mst-remote-prefix").html(t.mst.remote_connection_data.site_details.prefix),n.show(),void d.show();if(d.hide(),i&&"savefile"!==t.functions.wpmdb_migration_type())return y(),A(!1),void _.show();if(_.hide(),"savefile"!==t.functions.wpmdb_migration_type()&&void 0!==t.mst.remote_connection_data&&wpmdb_data.mst_version!==t.mst.remote_connection_data.mst_version)return y(),A(!1),e(".mst-remote-location").html(t.mst.remote_connection_data.url),e(".mst-remote-version").html(t.mst.remote_connection_data.mst_version),void u.show();u.hide(),o.attr("data-available","1"),o.removeAttr("disabled"),e(".mst").removeClass("disabled"),g()?(r.show(),C()):r.hide(),k(),n.show()}}function k(){g()&&-1===e.inArray(t.functions.wpmdb_migration_type(),["savefile","find_replace"])?e.wpmdb.do_action("wpmdb_lock_replace_url",!0):e.wpmdb.do_action("wpmdb_lock_replace_url",!1)}function j(){w()||v()?e.wpmdb.do_action("wpmdb_pin_replace_url",!0):e.wpmdb.do_action("wpmdb_pin_replace_url",!1)}function F(){return"pull"===t.functions.wpmdb_migration_type()&&w()||"push"===t.functions.wpmdb_migration_type()&&v()}function S(){if(""!==a.val()){if("savefile"!==t.functions.wpmdb_migration_type()){c.hide(),p.show(),s.children("label").addClass("disabled");var e=h,n=O();F()&&void 0!==n.blog_id&&1<n.blog_id&&(e=e+n.blog_id+"_"),c.val(e),l.val(e),p.text(e)}else c.show(),p.hide(),s.children("label").removeClass("disabled");s.show()}else s.hide()}function O(){var e={};if(g()){var t=a.find("option:selected").val();""===t&&(t=function(){var e="";void 0===wpmdb_data.mst_selected_subsite||isNaN(wpmdb_data.mst_selected_subsite)||(e=wpmdb_data.mst_selected_subsite);return e}()),""===t?e=!1:(e.blog_id=t,e.domain_and_path=a.find("option:selected").text())}return e}function C(n){var o=O();!function(n,o){e.wpmdb.do_action("wpmdb_refresh_table_selects"),void 0!==wpmdb_data.mst_selected_subsite&&"object"!==(void 0===o?"undefined":(0,i.default)(o))?m=!1:(m=!0,"pull"===t.functions.wpmdb_migration_type()?e.wpmdb.do_action("wpmdb_update_pull_table_select"):e.wpmdb.do_action("wpmdb_update_push_table_select"));T=n,g()?(e.wpmdb.do_action("wpmdb_disable_table_migration_options"),(m&&(!1===T||void 0!==T.blog_id&&void 0!==n.blog_id&&T.blog_id===n.blog_id)||"savefile"===t.migration_selection||"find_replace"===t.migration_selection)&&e.wpmdb.do_action("wpmdb_select_all_tables")):e.wpmdb.do_action("wpmdb_enable_table_migration_options");var r=!0;!1!==e("#mst-select-subsite").prop("checked")&&""!==e("#mst-selected-subsite").val()||(r=!1,e("#select-tables").children("option").prop("selected",r))}(o,n),A(o),S()}var T=!1;function A(n){var i=f;if(void 0!==n&&!1!==n&&"find_replace"!==t.functions.wpmdb_migration_type()){void 0!==n.domain_and_path&&(i="//"+n.domain_and_path);var o=!1;F()&&(o=!0),b&&(o=!o),o?e('.replace-row.pin .replace-right-col input[type="text"]').val(i):e('.replace-row.pin .old-replace-col input[type="text"]').val(i)}}function E(e,n){var i=O();if(void 0!==i.blog_id){if(!(1<i.blog_id)){var o=t.functions.preg_quote(n);return null===new RegExp(e+"([0-9]+)_","i").exec(o)}if(e=e+i.blog_id+"_",0===n.toLowerCase().indexOf(e.toLowerCase()))return!0}return!1}function P(e){t.mst.remote_connection_data=e,t.mst.remote_mst_unavailable=void 0===e.mst_available}function $(){!1!==g()&&v()&&(w()&&!v()?z(wpmdb_data.site_details.subsites):!w()&&v()&&z(t.mst.remote_connection_data.site_details.subsites))}function z(t){var n=O();e(a).empty(),e(a).append('<option value="">-- '+wpmdbmst_strings.select_subsite+" --</option>"),e.each(t,function(t,i){if(!e.wpmdb.apply_filters("wpmdb_exclude_subsite",!1,i)){var o=" ";!1!==n&&t===n.blog_id&&(o=' selected="selected" '),e(a).append("<option"+o+'value="'+t+'">'+i+"</option>")}})}e.wpmdb.add_action("move_connection_info_box",function(n){h=e(".table-select-wrap .table-prefix").text(),null===f&&(f=e.wpmdb.apply_filters("wpmdb_base_old_url")),void 0!==n.migration_type&&void 0!==n.last_migration_type&&(n.migration_type===n.last_migration_type||"pull"!==n.migration_type&&"pull"!==n.last_migration_type||(b=!0)),t.functions.wpmdb_toggle_migration_action_text(),x(t.mst.remote_mst_unavailable),e.wpmdb.do_action("wpmdb_refresh_table_selects"),b&&(b=!1)}),e.wpmdb.add_action("verify_connection_to_remote_site",function(e){P(e),m=!0,x(t.mst.remote_mst_unavailable)}),e.wpmdb.add_action("move_connection_info_box",j),e.wpmdb.add_action("move_connection_info_box",$),e.wpmdb.add_action("move_connection_info_box",function(n){void 0!==t.mst.remote_connection_data&&g()&&n.last_migration_type!==n.migration_type&&e("body").on("wpmdb_connection_fired",function(){e.wpmdb.do_action("wpmdb_select_all_tables")})}),e.wpmdb.add_action("wpmdb_connection_data_updated",P),e.wpmdb.add_action("wpmdb_connection_data_updated",j),e.wpmdb.add_action("wpmdb_connection_data_updated",$),e.wpmdb.add_filter("wpmdb_exclude_table",function(n,i){if(g()){if(!1===O())return!0;if(i.substr(0,h.length)!==h)return!0;if(1===t.functions.subsite_for_table(h,i)){if(t.functions.table_is(h,"users",i)||t.functions.table_is(h,"usermeta",i))return n;e.each(["blog_versions","blogs","registration_log","signups","site","sitemeta"],function(e,o){t.functions.table_is(h,o,i)&&(n=!0)})}if("pull"===t.functions.wpmdb_migration_type()&&!v())return n;if("push"===t.functions.wpmdb_migration_type()&&!w())return n;!1===E(h,i)&&(n=!0)}return n}),e.wpmdb.add_filter("wpmdb_migration_profile_ready",function(e,n){if(!1===g())return e;var i=c.val();return!1===O()?(alert(wpmdbmst_strings.please_select_a_subsite),e=!1):0===i.trim().length?(alert(wpmdbmst_strings.please_enter_a_prefix),e=!1):!1===function(e){var n=t.functions.preg_quote(e);return null===new RegExp("[^a-z0-9_]","i").exec(n)}(i)&&(alert(wpmdbmst_strings.new_prefix_contents),e=!1),e}),e.wpmdb.add_filter("wpmdb_backup_selected_tables",function(n){if(g()&&"find_replace"!==t.functions.wpmdb_migration_type()){var i=O();!(void 0!==i.blog_id&&1<i.blog_id)||w()&&v()||e.each(n,function(e,o){!1===t.functions.table_is(h,"users",o)&&!1===t.functions.table_is(h,"usermeta",o)&&(!1===E(h,o)&&F()&&(n[e]=c.val()+o.substr(h.length)),!0!==E(h,o)||F()||(n[e]=c.val()+o.substr((h+i.blog_id+"_").length)))})}return n}),e.wpmdb.add_filter("wpmdbmf_enable_select_subsites",function(e){return!1!==e&&g()&&(e=!1),e}),S(),e(document).ready(function(){e("body").on("change","#mst-select-subsite",function(t){!function(){var t=g();k(),e.wpmdb.do_action("wpmdbmst_select_subsite_changed",t),$(),C()}()}),e("body").on("change","#mst-selected-subsite",function(e){C(e)}),x(t.mst.remote_mst_unavailable)})}(jQuery,wpmdb)},function(e,t,n){e.exports={default:n(41),__esModule:!0}},function(e,t,n){n(42),n(55),e.exports=n(24).f("iterator")},function(e,t,n){"use strict";var i=n(43)(!0);n(28)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var i=n(14),o=n(15);e.exports=function(e){return function(t,n){var r,a,s=String(o(t)),c=i(n),l=s.length;return c<0||c>=l?e?"":void 0:(r=s.charCodeAt(c))<55296||r>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):r:e?s.slice(c,c+2):a-56320+(r-55296<<10)+65536}}},function(e,t,n){var i=n(45);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var i=n(32),o=n(12),r=n(23),a={};n(4)(a,n(6)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:o(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var i=n(1),o=n(10),r=n(19);e.exports=n(2)?Object.defineProperties:function(e,t){o(e);for(var n,a=r(t),s=a.length,c=0;s>c;)i.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var i=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(5),o=n(50),r=n(51);e.exports=function(e){return function(t,n,a){var s,c=i(t),l=o(c.length),p=r(a,l);if(e&&n!=n){for(;l>p;)if((s=c[p++])!=s)return!0}else for(;l>p;p++)if((e||p in c)&&c[p]===n)return e||p||0;return!e&&-1}}},function(e,t,n){var i=n(14),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t,n){var i=n(14),o=Math.max,r=Math.min;e.exports=function(e,t){return(e=i(e))<0?o(e+t,0):r(e,t)}},function(e,t,n){var i=n(0).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(3),o=n(54),r=n(20)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var i=n(15);e.exports=function(e){return Object(i(e))}},function(e,t,n){n(56);for(var i=n(0),o=n(4),r=n(18),a=n(6)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],p=i[l],_=p&&p.prototype;_&&!_[a]&&o(_,a,l),r[l]=r.Array}},function(e,t,n){"use strict";var i=n(57),o=n(58),r=n(18),a=n(5);e.exports=n(28)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(60),__esModule:!0}},function(e,t,n){n(61),n(67),n(68),n(69),e.exports=n(7).Symbol},function(e,t,n){"use strict";var i=n(0),o=n(3),r=n(2),a=n(16),s=n(31),c=n(62).KEY,l=n(11),p=n(21),_=n(23),u=n(13),d=n(6),m=n(24),f=n(25),b=n(63),h=n(64),g=n(10),w=n(8),v=n(5),y=n(17),x=n(12),k=n(32),j=n(65),F=n(66),S=n(1),O=n(19),C=F.f,T=S.f,A=j.f,E=i.Symbol,P=i.JSON,$=P&&P.stringify,z=d("_hidden"),D=d("toPrimitive"),M={}.propertyIsEnumerable,L=p("symbol-registry"),I=p("symbols"),N=p("op-symbols"),R=Object.prototype,q="function"==typeof E,G=i.QObject,U=!G||!G.prototype||!G.prototype.findChild,V=r&&l(function(){return 7!=k(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=C(R,t);i&&delete R[t],T(e,t,n),i&&e!==R&&T(R,t,i)}:T,W=function(e){var t=I[e]=k(E.prototype);return t._k=e,t},Q=q&&"symbol"==typeof E.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof E},B=function(e,t,n){return e===R&&B(N,t,n),g(e),t=y(t,!0),g(n),o(I,t)?(n.enumerable?(o(e,z)&&e[z][t]&&(e[z][t]=!1),n=k(n,{enumerable:x(0,!1)})):(o(e,z)||T(e,z,x(1,{})),e[z][t]=!0),V(e,t,n)):T(e,t,n)},H=function(e,t){g(e);for(var n,i=b(t=v(t)),o=0,r=i.length;r>o;)B(e,n=i[o++],t[n]);return e},J=function(e){var t=M.call(this,e=y(e,!0));return!(this===R&&o(I,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(I,e)||o(this,z)&&this[z][e])||t)},K=function(e,t){if(e=v(e),t=y(t,!0),e!==R||!o(I,t)||o(N,t)){var n=C(e,t);return!n||!o(I,t)||o(e,z)&&e[z][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=A(v(e)),i=[],r=0;n.length>r;)o(I,t=n[r++])||t==z||t==c||i.push(t);return i},X=function(e){for(var t,n=e===R,i=A(n?N:v(e)),r=[],a=0;i.length>a;)!o(I,t=i[a++])||n&&!o(R,t)||r.push(I[t]);return r};q||(s((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(n){this===R&&t.call(N,n),o(this,z)&&o(this[z],e)&&(this[z][e]=!1),V(this,e,x(1,n))};return r&&U&&V(R,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),F.f=K,S.f=B,n(36).f=j.f=Y,n(26).f=J,n(35).f=X,r&&!n(9)&&s(R,"propertyIsEnumerable",J,!0),m.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!q,{Symbol:E});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)d(Z[ee++]);for(var te=O(d.store),ne=0;te.length>ne;)f(te[ne++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=E(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?k(e):H(k(e),t)},defineProperty:B,defineProperties:H,getOwnPropertyDescriptor:K,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),P&&a(a.S+a.F*(!q||l(function(){var e=E();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=t=i[1],(w(t)||void 0!==e)&&!Q(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),i[1]=t,$.apply(P,i)}}),E.prototype[D]||n(4)(E.prototype,D,E.prototype.valueOf),_(E,"Symbol"),_(Math,"Math",!0),_(i.JSON,"JSON",!0)},function(e,t,n){var i=n(13)("meta"),o=n(8),r=n(3),a=n(1).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(11)(function(){return c(Object.preventExtensions({}))}),p=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},_=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,i)){if(!c(e))return"F";if(!t)return"E";p(e)}return e[i].i},getWeak:function(e,t){if(!r(e,i)){if(!c(e))return!0;if(!t)return!1;p(e)}return e[i].w},onFreeze:function(e){return l&&_.NEED&&c(e)&&!r(e,i)&&p(e),e}}},function(e,t,n){var i=n(19),o=n(35),r=n(26);e.exports=function(e){var t=i(e),n=o.f;if(n)for(var a,s=n(e),c=r.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var i=n(34);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(5),o=n(36).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==r.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(i(e))}},function(e,t,n){var i=n(26),o=n(12),r=n(5),a=n(17),s=n(3),c=n(29),l=Object.getOwnPropertyDescriptor;t.f=n(2)?l:function(e,t){if(e=r(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(25)("asyncIterator")},function(e,t,n){n(25)("observable")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(27)),o=a(n(71)),r=a(n(72));function a(e){return e&&e.__esModule?e:{default:e}}var s=window.jQuery,c=window.ajaxurl,l=window.wpmdb_strings,p=window.wpmdb_data,_=function(){function e(){(0,o.default)(this,e),this.show_ssl_notice=!1,this.doing_save_profile=!1,this.doing_ajax=!1,this.profile_name_edited=!1,this.migration_intent=null,this.doing_licence_registration_ajax=!1,this.migration_paused=!1,this.last_replace_switch=wpmdb.functions.wpmdb_migration_type(),this.connection_established=!1,this.profile_name_edited=!1,this.checked_licence=!1,this.show_prefix_notice=!1,this.show_ssl_notice=!1,this.force_reconnect=!1,this.migration_selection="",this.show_version_notice=!1,this.migration_completed=!1,this.currently_migrating=!1,this.dump_filename="",this.dump_path="",this.migration_intent="",this.remote_site=null,this.secret_key=null,this.form_data=null,this.stage=null,this.elapsed_interval=null,this.completed_msg=null,this.tables_to_migrate=[],this.migration_paused=!1,this.previous_progress_title="",this.previous_progress_text_primary="",this.previous_progress_text_secondary="",this.cancelling_text="",this.paused_text="",this.migration_cancelled=!1,this.flag_skip_delay=!1,this.delay_between_requests=0,this.fade_duration=400,this.pause_before_finalize=!1,this.is_auto_pause_before_finalize=!1,this.$connection_info_box=s(".connection-info-wrapper"),this.$push_select=window.wpmdb.$push_select=s("#select-tables").clone(),this.$pull_select=window.wpmdb.$pull_select=s("#select-tables").clone(),this.$push_post_type_select=s("#select-post-types").clone(),this.$pull_post_type_select=s("#select-post-types").clone(),this.$push_select_backup=s("#select-backup").clone(),this.$pull_select_backup=s("#select-backup").clone(),this.spinner_url=window.spinner_url=wpmdb.functions.get_spinner_url(),this.ajax_spinner=window.ajax_spinner='<img src="'+this.spinner_url+'" alt="" class="ajax-spinner general-spinner" />'}return(0,r.default)(e,[{key:"pad",value:function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e}},{key:"is_int",value:function(e){return"number"==typeof(e=parseInt(e))&&0==e%1}},{key:"get_intersect",value:function(e,t){var n,i,o=[],r={},a=t.length;for(n=0;n<a;n++)r[t[n]]=!0;for(a=e.length,n=0;n<a;n++)(i=e[n])in r&&o.push(i);return o}},{key:"pin_replace_url",value:function(e){!0===e&&1>s(".replace-row.pin").length&&1===s("#old-url").length&&s("#old-url").parents(".replace-row").addClass("pin"),!1===e&&0<s(".replace-row.pin").length&&s(".replace-row.pin").removeClass("pin")}},{key:"get_ajax_errors",value:function(e,t,n){return wpmdb.functions.wpmdbGetAjaxErrors(l.connection_local_server_problem,t,e,n)}},{key:"refresh_debug_log",value:function(){s.ajax({url:c,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_get_log",nonce:p.nonces.get_log},error:function(e,t,n){alert(l.update_log_problem)},success:function(e){s(".debug-log-textarea").val(e)}})}},{key:"get_query_var",value:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},{key:"maybe_show_ssl_warning",value:function(e,t,n){var i=e.substr(0,e.indexOf(":")),o=s(".ssl-notice");if(this.show_ssl_notice||o.hide(),n!==i&&-1!==e.indexOf("https"))return o.show(),this.show_ssl_notice=!0,e=e.replace("https","http"),void s(".pull-push-connection-info").val(e+"\n"+t);this.show_ssl_notice=!1}},{key:"validate_url",value:function(e){return/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}},{key:"refresh_table_selects",value:function(){void 0!==p&&void 0!==p.this_tables&&void 0!==p.this_table_sizes_hr&&(this.$push_select=this.create_table_select(p.this_tables,p.this_table_sizes_hr,s(wpmdb.$push_select).val())),void 0!==wpmdb.common.connection_data&&void 0!==wpmdb.common.connection_data.tables&&void 0!==wpmdb.common.connection_data.table_sizes_hr&&(this.$pull_select=this.create_table_select(wpmdb.common.connection_data.tables,wpmdb.common.connection_data.table_sizes_hr,s(wpmdb.$pull_select).val()))}},{key:"save_active_profile",value:function(){var e,t=this;if(s(".save-settings-button").blur(),!this.doing_save_profile&&!0!==this.maybe_show_select_table_notice()){var n=!1;s("#create_new").is(":checked")&&(n=!0);var i=s(".create-new-profile").val();this.doing_save_profile=!0,e=s(s("#migrate-form")[0].elements).not(".auth-credentials").serialize(),s(".save-settings-button").attr("disabled","disabled").after('<img src="'+this.spinner_url+'" alt="" class="save-profile-ajax-spinner general-spinner" />'),this.doing_ajax=!0,s.ajax({url:c,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_save_profile",profile:e,nonce:p.nonces.save_profile},error:function(e,n,i){t.doing_ajax=!1,alert(l.save_profile_problem),s(".save-settings-button").removeAttr("disabled"),s(".save-profile-ajax-spinner").remove(),s(".save-settings-button").after('<span class="ajax-success-msg">'+l.saved+"</span>"),s(".ajax-success-msg").fadeOut(2e3,function(){s(this).remove()}),t.doing_save_profile=!1},success:function(e){var o=parseInt(s("#migrate-form input[name=save_migration_profile_option]:checked").val(),10)+1;if(t.doing_ajax=!1,s(".save-settings-button").removeAttr("disabled"),s(".save-profile-ajax-spinner").remove(),s(".save-settings-button").after('<span class="ajax-success-msg">'+l.saved+"</span>"),s(".ajax-success-msg").fadeOut(2e3,function(){s(this).remove()}),t.doing_save_profile=!1,s(".create-new-profile").val(""),n){var r=parseInt(e,10),a=r+1,c=s('<li><span class="delete-profile" data-profile-id="'+a+'"></span><label for="profile-'+a+'"><input id="profile-'+a+'" value="'+r+'" name="save_migration_profile_option" type="radio"></label></li>');c.find("label").append(document.createTextNode(" "+i)),o=a,s("#create_new").parents("li").before(c),s("#profile-"+a).attr("checked","checked")}var _=window.location.href.replace("#migrate","").replace(/&wpmdb-profile=-?\d+/,"")+"&wpmdb-profile="+o,u=s("#migrate-form input[name=save_migration_profile_option]:checked").parent().text().trim();if("function"==typeof window.history.pushState){if(s("#migrate-form .crumbs").length)s("#migrate-form .crumbs .crumb:last").text(u);else{var d=s('<div class="crumbs" />').append('<a class="crumb" href="'+p.this_plugin_base+'"> Saved Profiles </a>').append('<span class="crumb">'+u+"</span>");s("#migrate-form").prepend(d)}window.history.pushState({updated_profile_id:o},null,_)}}})}}},{key:"cancel_migration",value:function(e){this.migration_cancelled=!0,this.cancelling_text=l.cancelling_migration,s(".migration-controls").css({visibility:"hidden"}),"find_replace"===this.migration_intent&&(this.cancelling_text=l.cancelling_find_replace),wpmdb.current_migration.setState(this.cancelling_text,l.completing_current_request,"cancelling"),!0===this.migration_paused&&(this.migration_paused=!1,wpmdb.functions.execute_next_step())}},{key:"set_checkbox",value:function(e){var t=s("#"+e),n=t.find("input[type=checkbox]");t.toggleClass("on").find("span").toggleClass("checked");var i=t.find("span.on").hasClass("checked");n.attr("checked",i).trigger("change")}},{key:"move_connection_info_box",value:function(){var e,t,n,i,o,r,a=s(".connection-status"),c=s(".directory-permission-notice"),l=s(".compatibility-older-mysql"),_=s(".mst-required"),u=s(".keep-active-plugins"),d=s(".step-two"),m=s(".backup-options"),f=wpmdb.functions.wpmdb_migration_type();if(a.hide(),c.hide(),d.show(),m.show(),u.show(),l.hide(),_.hide(),wpmdb.functions.wpmdb_toggle_migration_action_text(),s(".migrate-tab").attr("class","migrate-tab content-tab").addClass(wpmdb.functions.wpmdb_migration_type()),s.wpmdb.do_action("move_connection_info_box",{migration_type:f,last_migration_type:this.last_replace_switch}),-1!==s.inArray(f,["push","pull"])){var b=s(".pull-push-connection-info"),h=s.trim(b.val()).split("\n"),g=s("."+f+"-list li");if(g.append(this.$connection_info_box),this.$connection_info_box.show(function(){var e=s(this).find(".pull-push-connection-info");e.val()||e.focus()}),f!==this.last_replace_switch&&2===h.length)return wpmdb.force_reconnect=!0,g.append(this.$connection_info_box),b.removeClass("temp-disabled").attr("readonly","readonly"),s(".connect-button").hide(),void wpmdb.functions.connection_box_changed();this.connection_established?(a.hide(),d.show(),wpmdb.functions.wpmdb_toggle_migration_action_text(),"pull"===f?(t=wpmdb.common.connection_data.prefix,n=p.site_details.prefix,i=p.this_uploads_dir,o=p.this_upload_dir_long,r=p.write_permission):(t=p.this_prefix,n=wpmdb.common.connection_data.prefix,i=wpmdb.common.connection_data.uploads_dir,o=wpmdb.common.connection_data.upload_dir_long,r=wpmdb.common.connection_data.write_permissions),s(".table_prefix").html(t),s(".backup-table-prefix").html(n),s(".uploads-dir").html(i),this.maybe_show_backup_disabled_msg(o,r),!1===this.profile_name_edited&&(e=this.get_domain_name(wpmdb.common.connection_data.url),s(".create-new-profile").val(e))):(a.show(),d.hide())}else if(-1!==s.inArray(f,["find_replace","savefile"]))if(a.hide(),d.show(),s(".table-prefix").html(p.this_prefix),!1===this.profile_name_edited&&s(".create-new-profile").val(""),u.hide(),"savefile"===f)m.hide(),l.show(),"false"===p.write_permission&&(c.show(),d.hide());else{if("true"===p.is_multisite){var w=s(".old-replace-col").eq(1);w.parent().removeClass("pin").find(".replace-remove-row").show(),w.find("input").removeAttr("readonly")}this.maybe_show_backup_disabled_msg(p.this_upload_dir_long,p.write_permission)}this.maybe_show_mixed_cased_table_name_warning()}},{key:"maybe_show_backup_disabled_msg",value:function(e,t){var n=s("#create-backup"),i=s("#create-backup-label"),o=s(".backup-option-disabled");n.removeAttr("disabled"),i.removeClass("disabled"),o.hide(),"false"===t&&(n.prop("checked",!1),n.attr("disabled","disabled"),i.addClass("disabled"),o.show(),s(".upload-directory-location").html(e))}},{key:"change_replace_values",value:function(){var e=null,t=null,n=this;null!==wpmdb.common.previous_connection_data&&"object"===(0,i.default)(wpmdb.common.previous_connection_data)&&wpmdb.common.previous_connection_data.url!==wpmdb.common.connection_data.url&&(e=this.remove_protocol(wpmdb.common.previous_connection_data.url),t=wpmdb.common.previous_connection_data.path),"push"===wpmdb.functions.wpmdb_migration_type()||"savefile"===wpmdb.functions.wpmdb_migration_type()?("pull"===this.last_replace_switch?s(".replace-row").each(function(){var e=s(".old-replace-col input",this).val();s(".old-replace-col input",this).val(s(".replace-right-col input",this).val()),s(".replace-right-col input",this).val(e)}):"push"===this.last_replace_switch&&"push"===wpmdb.functions.wpmdb_migration_type()&&null!==e&&null!==t&&s(".replace-row").each(function(){var i=s(".replace-right-col input",this).val();i===t&&s(".replace-right-col input",this).val(wpmdb.common.connection_data.path),i===e&&s(".replace-right-col input",this).val(n.remove_protocol(wpmdb.common.connection_data.url))}),s.wpmdb.do_action("wpmdb_update_push_table_select"),s("#select-post-types").remove(),s(".exclude-post-types-warning").after(this.$push_post_type_select),wpmdb.functions.exclude_post_types_warning(),s("#select-backup").remove(),s(".backup-tables-wrap").prepend(this.$push_select_backup)):"pull"===wpmdb.functions.wpmdb_migration_type()&&(""===this.last_replace_switch||"push"===this.last_replace_switch||"savefile"===this.last_replace_switch?s(".replace-row").each(function(){var e=s(".old-replace-col input",this).val();s(".old-replace-col input",this).val(s(".replace-right-col input",this).val()),s(".replace-right-col input",this).val(e)}):"pull"===this.last_replace_switch&&"pull"===wpmdb.functions.wpmdb_migration_type()&&null!==e&&null!==t&&s(".replace-row").each(function(){var i=s(".old-replace-col input",this).val();i===t&&s(".old-replace-col input",this).val(wpmdb.common.connection_data.path),i===e&&s(".old-replace-col input",this).val(n.remove_protocol(wpmdb.common.connection_data.url))}),s.wpmdb.do_action("wpmdb_update_pull_table_select"),s("#select-post-types").remove(),s(".exclude-post-types-warning").after(this.$pull_post_type_select),wpmdb.functions.exclude_post_types_warning(),s("#select-backup").remove(),s(".backup-tables-wrap").prepend(this.$pull_select_backup)),this.last_replace_switch=wpmdb.functions.wpmdb_migration_type()}},{key:"switch_to_plugin_tab",value:function(e,t){s(".nav-tab").removeClass("nav-tab-active"),s(".nav-tab."+e).addClass("nav-tab-active"),s(".content-tab").hide(),s("."+e+"-tab").show(),"settings"===e&&!0===this.should_check_licence()&&(s("p.licence-status").append("Checking License... ").append(this.ajax_spinner),this.check_licence()),"help"===e&&(this.refresh_debug_log(),!0===this.should_check_licence()&&(s(".support-content p").append(this.ajax_spinner),this.check_licence())),"addons"===e&&!0!==t&&!0===this.should_check_licence()&&(s(".addons-content p").append(this.ajax_spinner),this.check_licence())}},{key:"hide_overlay",value:function(){s("#overlay").removeClass("show").addClass("hide"),s("#overlay > div").removeClass("show").addClass("hide"),wpmdb.current_migration.$proVersion.find("iframe").remove(),setTimeout(function(){s("#overlay").remove()},500),this.migration_completed=!1}},{key:"check_licence",value:function(e){var t=!this.doing_licence_registration_ajax;this.checked_licence=!0;var n=this;s.ajax({url:c,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_check_licence",licence:e,context:"all",nonce:p.nonces.check_licence},error:function(e,t,n){alert(l.license_check_problem)},success:function(e){var i,o,r,a=s(".support-content"),c=s(".addons-content"),l=s(".licence-status:not(.notification-message)");if(void 0!==e.dbrains_api_down)o=e.dbrains_api_down+e.message,r=e.dbrains_api_down;else if(void 0!==e.errors){if(void 0!==e.errors.subscription_expired)i=e.errors.subscription_expired.licence,o=e.errors.subscription_expired.support,r=e.errors.subscription_expired.addons;else{var p="";for(var _ in e.errors)p+=e.errors[_];o=p,r=p}void 0!==e.addon_content&&(r+="\n"+e.addon_content)}else o=e.message,r=e.addon_content;t&&l.stop().fadeOut(n.fade_duration,function(){void 0===i&&(s(this).css({visibility:"hidden",display:"block"}).slideUp(),i=""),s(this).empty().html(i).stop().fadeIn(n.fade_duration)}),a.stop().fadeOut(n.fade_duration,function(){s(this).empty().html(o).stop().fadeIn(n.fade_duration)}),c.stop().fadeOut(n.fade_duration,function(){s(this).empty().html(r).stop().fadeIn(n.fade_duration)}),s("#plugin-compatibility").is(":not(:checked)")&&s("#compatibility-header").click()}})}},{key:"should_check_licence",value:function(){return!1===this.checked_licence&&"1"===p.has_licence&&"true"===p.is_pro}},{key:"maybe_show_mixed_cased_table_name_warning",value:function(){if(void 0!==wpmdb.common.connection_data&&!1!==wpmdb.common.connection_data){var e=wpmdb.functions.wpmdb_migration_type(),t=wpmdb.functions.get_tables_to_migrate(null,null);s(".mixed-case-table-name-notice").hide(),null!==t&&(t=t.join(""))!==t.toLowerCase()&&("1"===wpmdb.common.connection_data.lower_case_table_names||"push"!==e&&"savefile"!==e)&&("1"!==p.lower_case_table_names&&"pull"===e||("push"===e||"savefile"===e?s(".mixed-case-table-name-notice.push").show():s(".mixed-case-table-name-notice.pull").show()))}}},{key:"enable_pro_licence",value:function(e,t){s(".licence-input, .register-licence").remove(),s(".licence-not-entered").prepend(e.masked_licence),s(".support-content").empty().html("<p>"+l.fetching_license+'<img src="'+this.spinner_url+'" alt="" class="ajax-spinner general-spinner" /></p>'),this.check_licence(t),s(".migrate-selection label").removeClass("disabled"),s(".migrate-selection input").removeAttr("disabled")}},{key:"get_domain_name",value:function(e){return e.replace(/\/\/(.*)@/,"//").replace("http://","").replace("https://","").replace("www.","")}},{key:"update_domain_placeholder",value:function(e,t,n){var i=this.get_domain_name(t);return"completed"===n?e.replace(/\%s\s?/,"<span class=domain-label>"+i+"</span>&nbsp;"):e.replace(/\%s(\S*)\s?/,"<span class=domain-label>"+i+"$1</span>&nbsp;")}},{key:"get_migration_status_label",value:function(e,t,n){var i="",o="";switch(t){case"push":i=l.push_migration_label_migrating,o=l.push_migration_label_completed;break;case"pull":i=l.pull_migration_label_migrating,o=l.pull_migration_label_completed;break;case"find_replace":i=l.find_replace_label_migrating,o=l.find_replace_label_completed;break;case"savefile":i=l.exporting_please_wait,o=l.exporting_complete}var r=i;return"completed"===n&&(r=o),"push"!==t&&"pull"!==t||(r=this.update_domain_placeholder(r,e,n)),r=s.wpmdb.apply_filters("wpmdb_get_migration_status_label",r,{intent:t,stage:n})}},{key:"disable_export_type_controls",value:function(){s(".option-group").each(function(e){s("input",this).attr("disabled","disabled"),s("label",this).css("cursor","default")})}},{key:"enable_export_type_controls",value:function(){s(".option-group").each(function(e){s("input",this).removeAttr("disabled"),s("label",this).css("cursor","pointer")})}},{key:"set_slider_value",value:function(e,t,n,i){var o=t;void 0!==i&&(o=i),s(".slider",e).slider("value",parseInt(t)),s(".amount",e).html(wpmdb.functions.wpmdb_add_commas(o)+" "+n)}},{key:"set_pause_resume_button",value:function(e,t){!0===this.migration_paused?(this.migration_paused=!1,this.doing_ajax=!0,wpmdb.current_migration.setState(this.previous_progress_title,this.previous_progress_text_primary,"active"),s(".pause-resume").html(l.pause),wpmdb.current_migration.resumeTimer(),wpmdb.functions.execute_next_step(t)):(this.migration_paused=!0,this.doing_ajax=!1,this.paused_text=l.migration_paused,this.previous_progress_title=s(".progress-title").html(),this.previous_progress_text_primary=s(".progress-text",".progress-wrapper-primary").html(),this.previous_progress_text_secondary=s(".progress-text",".progress-wrapper-secondary ").html(),"find_replace"===this.migration_intent&&(this.paused_text=l.find_replace_paused),wpmdb.current_migration.setState(this.paused_text,l.completing_current_request,null),s("body").off("click",".pause-resume"),s("body").off("click",".cancel"))}},{key:"filter_temp_tables",value:function(e,t){var n=p.this_temp_prefix;return"pull"===wpmdb.functions.wpmdb_migration_type()&&void 0!==wpmdb.common.connection_data&&void 0!==wpmdb.common.connection_data.temp_prefix&&(n=wpmdb.common.connection_data.temp_prefix),n===t.substring(0,n.length)||e}},{key:"get_table_prefix",value:function(e,t){return s(".table-select-wrap .table-prefix").text()}},{key:"lock_replace_url",value:function(e){!0===e?(s('.replace-row.pin .replace-right-col input[type="text"]').attr("readonly","readonly"),s(".replace-row.pin .arrow-col").addClass("disabled")):(s('.replace-row.pin .replace-right-col input[type="text"]').removeAttr("readonly"),s(".replace-row.pin .arrow-col").removeClass("disabled"))}},{key:"set_connection_data",value:function(e){window.wpmdb.common.previous_connection_data=wpmdb.common.connection_data,window.wpmdb.common.connection_data=e,s.wpmdb.do_action("wpmdb_connection_data_updated",e)}},{key:"get_max_request_display_info",value:function(e){var t={unit:"MB"};return t.amount=(e/1024).toFixed(2),t}},{key:"establish_remote_connection_from_saved_profile",value:function(){var e=wpmdb.functions.wpmdb_migration_type(),t=s.trim(s(".pull-push-connection-info").val()).split("\n");if("undefined"!=typeof wpmdb_default_profile&&!0!==wpmdb_default_profile&&"savefile"!==e&&"find_replace"!==e&&"import"!==e&&!this.doing_ajax&&p.is_pro){this.doing_ajax=!0,this.disable_export_type_controls(),s(".connection-status").html(l.establishing_remote_connection),s(".connection-status").removeClass("notification-message error-notice migration-error"),s(".connection-status").append(this.ajax_spinner);var n=wpmdb.functions.wpmdb_migration_type(),i=this;s.ajax({url:c,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_verify_connection_to_remote_site",url:t[0],key:t[1],intent:n,nonce:p.nonces.verify_connection_to_remote_site,convert_post_type_selection:wpmdb_convert_post_type_selection,profile:p.profile},error:function(e,t,n){s(".connection-status").html(i.get_ajax_errors(e.responseText,"(#102)",e)),s(".connection-status").addClass("notification-message error-notice migration-error"),s(".ajax-spinner").remove(),i.doing_ajax=!1,i.enable_export_type_controls()},success:function(e){if(s(".ajax-spinner").remove(),i.doing_ajax=!1,i.enable_export_type_controls(),void 0!==e.wpmdb_error&&1===e.wpmdb_error)return s(".connection-status").html(e.body),s(".connection-status").addClass("notification-message error-notice migration-error"),void(e.body.indexOf("401 Unauthorized")>-1&&s(".basic-access-auth-wrapper").show());if(!0!==wpmdb.functions.maybe_show_mst_warning(e)){i.maybe_show_ssl_warning(t[0],t[1],e.scheme),wpmdb.functions.maybe_show_prefix_notice(e.prefix),s(".pull-push-connection-info").addClass("temp-disabled"),s(".pull-push-connection-info").attr("readonly","readonly"),s(".connect-button").hide(),s(".connection-status").hide(),s(".step-two").show(),i.connection_established=!0,i.set_connection_data(e),i.move_connection_info_box(),i.maybe_show_mixed_cased_table_name_warning();var n="";!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_tables&&(n=wpmdb_loaded_tables),i.$pull_select=wpmdb.functions.create_table_select(wpmdb.common.connection_data.tables,wpmdb.common.connection_data.table_sizes_hr,n);var o="";!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_post_types&&(void 0!==e.select_post_types?(s("#exclude-post-types").attr("checked","checked"),s(".post-type-select-wrap").show(),o=e.select_post_types):o=wpmdb_loaded_post_types);var r=document.createElement("select");s(r).attr({multiple:"multiple",name:"select_post_types[]",id:"select-post-types",class:"multiselect"}),s.each(wpmdb.common.connection_data.post_types,function(e,t){var n=s.inArray(t,o);n=-1!==n||!0===wpmdb_convert_exclude_revisions&&"revision"!==t?' selected="selected" ':" ",s(r).append("<option"+n+'value="'+t+'">'+t+"</option>")}),i.$pull_post_type_select=r;var a="";!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_tables_backup&&(a=wpmdb_loaded_tables_backup);var c=document.createElement("select");s(c).attr({multiple:"multiple",name:"select_backup[]",id:"select-backup",class:"multiselect"}),s.each(wpmdb.common.connection_data.tables,function(e,t){var n=s.inArray(t,a);n=-1!==n?' selected="selected" ':" ",s(c).append("<option"+n+'value="'+t+'">'+t+" ("+wpmdb.common.connection_data.table_sizes_hr[t]+")</option>")}),i.$push_select_backup=c,"pull"===wpmdb.functions.wpmdb_migration_type()?(s.wpmdb.do_action("wpmdb_update_pull_table_select"),s("#select-post-types").remove(),s(".exclude-post-types-warning").after(i.$pull_post_type_select),s("#select-backup").remove(),s(".backup-tables-wrap").prepend(i.$pull_select_backup),s(".table-prefix").html(e.prefix),s(".uploads-dir").html(p.this_uploads_dir)):(s("#select-backup").remove(),s(".backup-tables-wrap").prepend(i.$push_select_backup)),s.wpmdb.do_action("verify_connection_to_remote_site",wpmdb.common.connection_data)}else s(".connection-status").hide()}})}}},{key:"migrate_table_recursive",value:function(e,t,n){var i=this,o=n||0;if(o>=this.tables_to_migrate.length)if("upload"===this.stage&&wpmdb.current_migration.model.getStageItems("find_replace").length)this.stage="find_replace",this.tables_to_migrate=wpmdb.current_migration.model.getStageItems("find_replace","name"),this.tables_to_migrate=this.tables_to_migrate.map(function(e){return"_mig_"+e}),o=0;else{if("backup"!==this.stage)return s(".progress-label").removeClass("label-visible"),wpmdb.common.hooks=s.wpmdb.apply_filters("wpmdb_before_migration_complete_hooks",wpmdb.common.hooks),wpmdb.common.hooks.push(wpmdb.functions.migration_complete),wpmdb.common.hooks.push(wpmdb.functions.wpmdb_flush),wpmdb.common.hooks=s.wpmdb.apply_filters("wpmdb_after_migration_complete_hooks",wpmdb.common.hooks),wpmdb.common.hooks.push(wpmdb.functions.migration_complete_events),wpmdb.common.next_step_in_migration={fn:wpmdb.functions.wpmdb_call_next_hook},void wpmdb.functions.execute_next_step();if(-1!==s.inArray(this.migration_intent,["push","pull"])?this.stage="migrate":"import"===this.migration_intent?this.stage="upload":this.stage=this.migration_intent,wpmdb.current_migration.model.setActiveStage(this.stage),"find_replace"!==this.stage&&"migrate"!==this.stage)return void wpmdb.functions.wpmdb_call_next_hook();o=0,this.tables_to_migrate=wpmdb.functions.get_tables_to_migrate(null,null)}var r=0;o===this.tables_to_migrate.length-1&&(r=1);var a=0;-1!==s.inArray(this.migration_intent,["push","pull"])&&1===parseInt(wpmdb.common.connection_data.gzip)&&(a=1);var _={action:"wpmdb_migrate_table",migration_state_id:wpmdb.migration_state_id,table:this.tables_to_migrate[o],stage:this.stage,current_row:e,last_table:r,primary_keys:t,gzip:a,nonce:p.nonces.migrate_table};-1!==s.inArray(this.migration_intent,["push","pull"])&&(_.bottleneck=wpmdb.common.connection_data.bottleneck,_.prefix=wpmdb.common.connection_data.prefix),wpmdb.common.connection_data&&wpmdb.common.connection_data.path_current_site&&wpmdb.common.connection_data.domain&&(_.path_current_site=wpmdb.common.connection_data.path_current_site,_.domain_current_site=wpmdb.common.connection_data.domain),this.doing_ajax=!0,s.ajax({url:c,type:"POST",dataType:"text",cache:!1,timeout:0,data:_,error:function(e,t,n){var r=l.table_process_problem+" "+i.tables_to_migrate[o]+"<br /><br />"+l.status+": "+e.status+" "+e.statusText+"<br /><br />"+l.response+":<br />"+e.responseText;wpmdb.current_migration.setState(l.migration_failed,r,"error"),i.doing_ajax=!1,console.log(e),console.log(t),console.log(n),wpmdb.common.migration_error=!0,wpmdb.functions.migration_complete_events()},success:function(e){i.doing_ajax=!1,e=s.trim(e);var t=wpmdb.functions.wpmdb_parse_json(e),n="";if(!1===t||null===t)return n=""===e||null===e?l.table_process_problem_empty_response+" "+i.tables_to_migrate[o]:i.get_ajax_errors(e,null,null),wpmdb.current_migration.setState(l.migration_failed,n,"error"),wpmdb.common.migration_error=!0,void wpmdb.functions.migration_complete_events();if(void 0!==t.wpmdb_error&&1===t.wpmdb_error)return wpmdb.current_migration.setState(l.migration_failed,t.body,"error"),wpmdb.common.migration_error=!0,void wpmdb.functions.migration_complete_events();var a=i.tables_to_migrate[o];"import"===i.migration_intent&&"find_replace"===i.stage&&(a=a.replace(p.this_temp_prefix,"")),wpmdb.current_migration.setText(),wpmdb.current_migration.model.getStageModel(i.stage).setItemRowsTransferred(a,t.current_row),1===r&&"savefile"===i.migration_intent&&(void 0!==t.dump_filename&&(i.dump_filename=t.dump_filename),void 0!==t.dump_path&&(i.dump_path=t.dump_path)),-1===parseInt(t.current_row)&&(o++,t.current_row="",t.primary_keys=""),wpmdb.common.next_step_in_migration={fn:wpmdb.functions.migrate_table_recursive,args:[t.current_row,t.primary_keys,o]},wpmdb.functions.execute_next_step()}})}},{key:"migration_complete_events",value:function(){if(!1===wpmdb.common.migration_error)if(""===wpmdb.common.non_fatal_errors)if("savefile"!==this.migration_intent&&!0===s("#save_computer").is(":checked")&&wpmdb.current_migration.setText(),this.completed_msg=this.completed_msg+'&nbsp;<div class="dashicons dashicons-yes"></div>',!0===this.migration_cancelled){var e=l.migration_cancelled_success;"find_replace"===this.migration_intent&&(e=l.find_replace_cancelled_success),wpmdb.current_migration.setState(this.completed_msg,e,"cancelled")}else wpmdb.current_migration.setState(this.completed_msg,"","complete");else wpmdb.current_migration.setState(l.completed_with_some_errors,wpmdb.common.non_fatal_errors,"error");s(".migration-controls").addClass("hidden"),wpmdb.common.hooks=[],wpmdb.common.call_stack=[],wpmdb.common.migration_error=!1,this.currently_migrating=!1,this.migration_completed=!0,this.migration_paused=!1,this.migration_cancelled=!1,this.doing_ajax=!1,wpmdb.common.non_fatal_errors="",this.tables_to_migrate=[],s(".progress-label").remove(),s(".migration-progress-ajax-spinner").remove(),s(".close-progress-content").show(),s("#overlay").css("cursor","pointer"),wpmdb.current_migration.model.setMigrationComplete()}},{key:"migration_complete",value:function(){var e=this;if(s(".migration-controls").addClass("hidden"),"savefile"===this.migration_intent){this.currently_migrating=!1;var t=l.migration_complete;if(s("#save_computer").is(":checked")){var n=p.this_download_url+encodeURIComponent(this.dump_filename);s("#gzip_file").is(":checked")&&(n+="&gzip=1"),window.location=n}else t=l.completed_dump_located_at+" "+this.dump_path;!1===wpmdb.common.migration_error&&(wpmdb.functions.migration_complete_events(),wpmdb.current_migration.setState(this.completed_msg,t,"complete"))}else{wpmdb.current_migration.setState(null,l.finalizing_migration,"finalizing");var i={action:"wpmdb_finalize_migration",migration_state_id:wpmdb.migration_state_id,tables:this.tables_to_migrate.join(","),nonce:p.nonces.finalize_migration};-1!==s.inArray(this.migration_intent,["push","pull"])&&(i.prefix=wpmdb.common.connection_data.prefix),this.doing_ajax=!0,s.ajax({url:c,type:"POST",dataType:"text",cache:!1,data:i,error:function(t,n,i){e.doing_ajax=!1,wpmdb.current_migration.setState(l.migration_failed,l.finalize_tables_problem,"error"),alert(t+" : "+n+" : "+i),wpmdb.common.migration_error=!0,wpmdb.functions.migration_complete_events()},success:function(t){if(e.doing_ajax=!1,"1"!==s.trim(t))return wpmdb.current_migration.setState(l.migration_failed,t,"error"),wpmdb.common.migration_error=!0,void wpmdb.functions.migration_complete_events();wpmdb.common.next_step_in_migration={fn:wpmdb.functions.wpmdb_call_next_hook},wpmdb.functions.execute_next_step()}})}}},{key:"wpmdb_flush",value:function(){var e=this;"savefile"!==this.migration_intent&&(wpmdb.current_migration.setText(l.flushing),this.doing_ajax=!0,s.ajax({url:c,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_flush",migration_state_id:wpmdb.migration_state_id,nonce:p.nonces.flush},error:function(t,n,i){e.doing_ajax=!1,wpmdb.current_migration.setState(l.migration_failed,l.flush_problem,"error"),alert(t+" : "+n+" : "+i),wpmdb.common.migration_error=!0,wpmdb.functions.migration_complete_events()},success:function(t){if(e.doing_ajax=!1,"1"!==s.trim(t))return wpmdb.current_migration.setState(l.migration_failed,t,"error"),wpmdb.common.migration_error=!0,void wpmdb.functions.migration_complete_events();wpmdb.common.next_step_in_migration={fn:wpmdb.functions.wpmdb_call_next_hook},wpmdb.functions.execute_next_step()}}))}},{key:"execute_next_step",value:function(){var e=this;if(0<this.delay_between_requests&&!1===this.flag_skip_delay)setTimeout(function(){this.flag_skip_delay=!0,wpmdb.functions.execute_next_step()},this.delay_between_requests);else if(this.flag_skip_delay=!1,!0===this.migration_paused){s(".migration-progress-ajax-spinner").hide(),wpmdb.current_migration.pauseTimer();var t="";!0===this.is_auto_pause_before_finalize?(t=l.paused_before_finalize,this.is_auto_pause_before_finalize=!1,"find_replace"===wpmdb.functions.wpmdb_migration_type()&&(t=l.find_replace_paused_before_finalize)):t=l.paused,wpmdb.current_migration.setState(null,t,"paused"),s("body").on("click",".pause-resume",function(e){this.set_pause_resume_button(e)}),s("body").on("click",".cancel",function(e){this.cancel_migration(e)}),s(".pause-resume").html(l.resume)}else if(!0===this.migration_cancelled){var n;this.migration_intent=wpmdb.functions.wpmdb_migration_type(),"savefile"===this.migration_intent?n=l.removing_local_sql:"pull"===this.migration_intent?n="backup"===this.stage?l.removing_local_backup:l.removing_local_temp_tables:"push"===this.migration_intent&&(n="backup"===this.stage?l.removing_remote_sql:l.removing_remote_temp_tables),wpmdb.current_migration.setText(n);var i={action:"wpmdb_cancel_migration",migration_state_id:wpmdb.migration_state_id,nonce:p.nonces.cancel_migration};this.doing_ajax=!0,s.ajax({url:c,type:"POST",dataType:"text",cache:!1,data:i,error:function(t,n,i){wpmdb.current_migration.setState(l.migration_cancellation_failed,l.manually_remove_temp_files+"<br /><br />"+l.status+": "+t.status+" "+t.statusText+"<br /><br />"+l.response+":<br />"+t.responseText,"error"),console.log(t),console.log(n),console.log(i),e.doing_ajax=!1,wpmdb.common.migration_error=!0,wpmdb.functions.migration_complete_events()},success:function(t){if(e.doing_ajax=!1,t=s.trim(t),"push"===e.migration_intent&&"1"!==t||"push"!==e.migration_intent&&""!==t)return void 0!==t&&void 0!==t.wpmdb_error&&1===t.wpmdb_error&&(t=t.wpmdb_error),wpmdb.current_migration.setState(l.migration_cancellation_failed,t,"error"),wpmdb.common.migration_error=!0,void wpmdb.functions.migration_complete_events();e.completed_msg=l.migration_cancelled,"find_replace"===e.migration_intent&&(e.completed_msg=l.find_replace_cancelled),wpmdb.functions.migration_complete_events(),wpmdb.current_migration.setStatus("cancelled")}})}else wpmdb.common.next_step_in_migration.fn.apply(null,wpmdb.common.next_step_in_migration.args)}},{key:"maybe_show_prefix_notice",value:function(e){var t=s(".prefix-notice");t.hide(),e!==p.this_prefix&&(s(".remote-prefix").html(e),this.show_prefix_notice=!0,t.show())}},{key:"maybe_show_select_table_notice",value:function(){if(s("#migrate-selected").is(":checked")&&null===s("#select-tables").val()){if("import"!==wpmdb.functions.wpmdb_migration_type())return alert(l.please_select_one_table),!0;if(s("#import-find-replace").is(":checked")&&s("#select-tables").is(":visible"))return alert(l.please_select_one_table_import),!0}return!("savefile"===wpmdb.functions.wpmdb_migration_type()||!s("#backup-manual-select").is(":checked")||null!==s("#select-backup").val())&&(alert(l.please_select_one_table_backup),!0)}},{key:"remove_protocol",value:function(e){return e.replace(/^https?:/i,"")}},{key:"create_table_select",value:function(e,t,n){var i=document.createElement("select");return s(i).attr({multiple:"multiple",name:"select_tables[]",id:"select-tables",class:"multiselect"}),0<e.length&&s.each(e,function(e,o){if(!s.wpmdb.apply_filters("wpmdb_exclude_table",!1,o)){var r=" ";void 0!==n&&null!==n&&0<n.length&&-1!==s.inArray(o,n)&&(r=' selected="selected" ');var a="";0!==t.length&&(a=" ("+t[o]+")"),s(i).append("<option"+r+'value="'+o+'">'+o+a+"</option>")}}),i}},{key:"get_tables_to_migrate",value:function(){var e=[],t=wpmdb.functions.wpmdb_migration_type();return"migrate_select"===s("input[name=table_migrate_option]:checked").val()?e=s("#select-tables").val():"pull"!==t&&void 0!==p.this_prefixed_tables?e=p.this_prefixed_tables:"pull"===t&&void 0!==wpmdb.common.connection_data&&void 0!==wpmdb.common.connection_data.prefixed_tables&&(e=wpmdb.common.connection_data.prefixed_tables),e}},{key:"update_migrate_button_text",value:function(){var e=wpmdb.functions.wpmdb_migration_type(),t=s("#save-migration-profile").is(":checked")?"_save":"",n="migrate_button_"+("savefile"===e?"export":e)+t;s(".migrate-db .button-primary").val(l[n])}},{key:"connection_box_changed",value:function(){var e=this,t=s(".pull-push-connection-info");if(-1!==s.inArray(wpmdb.functions.wpmdb_migration_type(),["push","pull"])&&(!this.doing_ajax&&!s(t).hasClass("temp-disabled")||!1!==wpmdb.force_reconnect)){wpmdb.force_reconnect=!1;var n=s(".pull-push-connection-info").val(),i=s.trim(n).split("\n"),o=!1,r="";if(""===i&&(o=!0,r=l.connection_info_missing),1===i.length&&!o){var a=s.trim(n).split(" ");2===a.length&&(i=a)}2===i.length||o||(o=!0,r=l.connection_info_incorrect),o||this.validate_url(i[0])||(o=!0,r=l.connection_info_url_invalid);var _=0;if(void 0!==i[1]&&(_=i[1].length),o||32===_||40===_||(o=!0,r=l.connection_info_key_invalid),o||i[0]!==p.connection_info[0]||(o=!0,r=l.connection_info_local_url),o||i[1]!==p.connection_info[1]||(o=!0,r=l.connection_info_local_key),o)return s(".connection-status").html(r),void s(".connection-status").addClass("notification-message error-notice migration-error");var u=i[0]+"\n"+i[1];1===s.trim(n).split("\n").length&&s(".pull-push-connection-info").val(u),!1===p.openssl_available&&(i[0]=i[0].replace("https://","http://"),u=i[0]+"\n"+i[1],s(".pull-push-connection-info").val(u)),this.show_prefix_notice=!1,this.doing_ajax=!0,this.disable_export_type_controls(),s(".basic-access-auth-wrapper").is(":visible")&&(i[0]=i[0].replace(/\/\/(.*)@/,"//"),i[0]=i[0].replace("//","//"+encodeURIComponent(s.trim(s(".auth-username").val()))+":"+encodeURIComponent(s.trim(s(".auth-password").val()))+"@"),u=i[0]+"\n"+i[1],s(".pull-push-connection-info").val(u),s(".basic-access-auth-wrapper").hide()),s(".step-two").hide(),s(".ssl-notice").hide(),s(".prefix-notice").hide(),s(".connection-status").show(),s(".connection-status").html(l.establishing_remote_connection),s(".connection-status").removeClass("notification-message error-notice migration-error"),s(".connection-status").append(this.ajax_spinner);var d=wpmdb.functions.wpmdb_migration_type();return this.profile_name_edited=!1,s.ajax({url:c,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_verify_connection_to_remote_site",url:i[0],key:i[1],intent:d,nonce:p.nonces.verify_connection_to_remote_site},error:function(t,n,i){s(".connection-status").html(e.get_ajax_errors(t.responseText,"(#100)",t)),s(".connection-status").addClass("notification-message error-notice migration-error"),s(".ajax-spinner").remove(),e.doing_ajax=!1,e.enable_export_type_controls()},success:function(t){if(s(".ajax-spinner").remove(),e.doing_ajax=!1,e.enable_export_type_controls(),void 0!==t.wpmdb_error&&1===t.wpmdb_error)return s(".connection-status").html(t.body),s(".connection-status").addClass("notification-message error-notice migration-error"),t.body.indexOf("401 Unauthorized")>-1&&s(".basic-access-auth-wrapper").show(),void(s(".pull-push-connection-info").hasClass("temp-disabled")||s(".connect-button").is(":visible")||(s(".pull-push-connection-info").removeAttr("readonly"),s(".connect-button").show()));if(!0!==wpmdb.functions.maybe_show_mst_warning(t)){e.maybe_show_ssl_warning(i[0],i[1],t.scheme);var n=e.get_domain_name(t.url);s(".create-new-profile").val(n),s(".pull-push-connection-info").addClass("temp-disabled"),s(".pull-push-connection-info").attr("readonly","readonly"),s(".connect-button").hide(),s(".connection-status").hide(),s(".step-two").show(),wpmdb.functions.maybe_show_prefix_notice(t.prefix),e.connection_established=!0,e.set_connection_data(t),e.move_connection_info_box(),e.change_replace_values(),e.maybe_show_mixed_cased_table_name_warning(),e.refresh_table_selects(null,null,e),e.$push_select_backup=s(e.$pull_select).clone(),s(e.$push_select_backup).attr({name:"select_backup[]",id:"select-backup"});var o=document.createElement("select");s(o).attr({multiple:"multiple",name:"select_post_types[]",id:"select-post-types",class:"multiselect"}),s.each(wpmdb.common.connection_data.post_types,function(e,t){s(o).append('<option value="'+t+'">'+t+"</option>")}),e.$pull_post_type_select=o,s("#new-path-missing-warning, #new-url-missing-warning").hide(),"pull"===wpmdb.functions.wpmdb_migration_type()?(s("#new-url").val(e.remove_protocol(p.this_url)),s("#new-path").val(p.this_path),"true"===p.is_multisite&&(s("#new-domain").val(p.this_domain),s('.replace-row.pin .old-replace-col input[type="text"]').val(e.remove_protocol(t.url))),s("#old-url").val(e.remove_protocol(t.url)),s("#old-path").val(t.path),s.wpmdb.do_action("wpmdb_update_pull_table_select"),s("#select-post-types").remove(),s(".exclude-post-types-warning").after(e.$pull_post_type_select),wpmdb.functions.exclude_post_types_warning(),s(".table-prefix").html(t.prefix),s(".backup-table-prefix").html(p.site_details.prefix),s(".uploads-dir").html(p.this_uploads_dir)):(s("#new-url").val(e.remove_protocol(t.url)),s("#new-path").val(t.path),"true"===p.is_multisite&&s('.replace-row.pin .old-replace-col input[type="text"]').val(e.remove_protocol(p.this_url)),s.wpmdb.do_action("wpmdb_update_push_table_select"),s("#select-backup").remove(),s(".backup-tables-wrap").prepend(e.$push_select_backup)),wpmdb.common.next_step_in_migration={fn:s.wpmdb.do_action,args:["verify_connection_to_remote_site",wpmdb.common.connection_data]},wpmdb.functions.execute_next_step()}else s(".connection-status").hide()}})}}}]),e}();t.default=_},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(73));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(e,o.key,o)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){e.exports={default:n(74),__esModule:!0}},function(e,t,n){n(75);var i=n(7).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(16);i(i.S+i.F*!n(2),"Object",{defineProperty:n(1).f})},function(e,t){window.jQuery}]);
//# sourceMappingURL=bundle-126.js.map