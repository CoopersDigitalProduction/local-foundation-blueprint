!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=42)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(31)("wks"),i=n(32),o=n(0).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(10),i=n(29);e.exports=n(5)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(83));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.handleAjaxError=function(e,t){var n="\n\t\t\t<p>"+wpmdb_strings.ajax_php_errors+":</p>\n\t\t\t<p>"+t.message+"</p>\n\t";wpmdb.current_migration.setState(e,n,"error"),wpmdb.common.migration_error=!0,wpmdb.functions.migration_complete_events(),console.error("ðŸš¨ ðŸš’",t)},t.throwMDBError=function(e){var t=void 0;throw void 0!==e.body&&(wpmdb.common.non_fatal_errors+=e.body,t=e.body),void 0!==e.msg&&(t=e.msg),new Error(t)},t.jQueryAjaxError=function(e,t){return void 0!==t.responseText&&""!==t.responseText?e=t.responseText:void 0!==t.statusText&&(e=t.statusText),console.error(t),wpmdb.current_migration.setState(wpmdb_strings.migration_failed,e,"error"),wpmdb.common.migration_error=!0,wpmdb.functions.migration_complete_events(),e},t.doNextStep=function(e,t,n){return wpmdb.common.next_step_in_migration={fn:e,args:t},wpmdb.functions.execute_next_step(n)}},function(e,t,n){var r=n(0),i=n(2),o=n(15),s=n(4),a=n(17),u=function(e,t,n){var c,l,f,d=e&u.F,p=e&u.G,h=e&u.S,m=e&u.P,_=e&u.B,g=e&u.W,v=p?i:i[t]||(i[t]={}),w=v.prototype,y=p?r:h?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(l=!d&&y&&void 0!==y[c])&&a(v,c)||(f=l?y[c]:n[c],v[c]=p&&"function"!=typeof y[c]?n[c]:_&&l?o(f,r):g&&y[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((v.virtual||(v.virtual={}))[c]=f,e&u.R&&w&&!w[c]&&s(w,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(3),i=n(52),o=n(53),s=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(45)},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(47));t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,n){return function i(o,s){try{var a=t[o](s),u=a.value}catch(e){return void n(e)}if(!a.done)return r.default.resolve(u).then(function(e){i("next",e)},function(e){i("throw",e)});e(u)}("next")})}}},function(e,t,n){var r=n(16);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t,n){var r=n(11),i=n(0).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(60),i=n(20);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(31)("keys"),i=n(32);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(10).f,i=n(17),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(16);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(21),i=n(9),o=n(54),s=n(4),a=n(12),u=n(55),c=n(25),l=n(63),f=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,_,g){u(n,t,h);var v,w,y,x=function(e){if(!d&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},b=t+" Iterator",k="values"==m,S=!1,P=e.prototype,j=P[f]||P["@@iterator"]||m&&P[m],O=j||x(m),T=m?k?x("entries"):O:void 0,E="Array"==t&&P.entries||j;if(E&&(y=l(E.call(new e)))!==Object.prototype&&y.next&&(c(y,b,!0),r||"function"==typeof y[f]||s(y,f,p)),k&&j&&"values"!==j.name&&(S=!0,O=function(){return j.call(this)}),r&&!g||!d&&!S&&P[f]||s(P,f,O),a[t]=O,a[b]=p,m)if(v={values:k?O:x("values"),keys:_?O:x("keys"),entries:T},g)for(w in v)w in P||o(P,w,v[w]);else i(i.P+i.F*(d||S),t,v);return v}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(19),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(2),i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(18),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(3),i=n(16),o=n(1)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(15),a=n(75),u=n(34),c=n(22),l=n(0),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,_=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},w=function(e){v.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++_]=function(){a("function"==typeof e?e:Function(e),t)},r(_),_},p=function(e){delete g[e]},"process"==n(18)(f)?r=function(e){f.nextTick(s(v,e,1))}:m&&m.now?r=function(e){m.now(s(v,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",w,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(3),i=n(11),o=n(26);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(6)),i=s(n(7)),o=(n(8),s(n(41)));function s(e){return e&&e.__esModule?e:{default:e}}var a=window.jQuery,u=window.wpmdb,c=(window.ajaxurl,function(){function e(){var t=this;(0,r.default)(this,e),this.themesPluginsHook=function(e,n,r){return!1===t.is_themes_migration&&!1===t.is_plugins_migration||-1===["push","pull"].indexOf(u.functions.wpmdb_migration_type())?e:(e.push(t.startFileMigration),e)},this.addThemesPluginsStage=function(e,n){var r="push"===u.functions.wpmdb_migration_type()?"local":"remote";-1!==["push","pull"].indexOf(u.functions.wpmdb_migration_type())&&(t.is_themes_migration=a("#migrate_themes").is(":checked"),t.is_plugins_migration=a("#migrate_plugins").is(":checked"),t.is_themes_migration&&u.current_migration.model.addStage("themes",[],r,{strings:{stage_title:window.wpmdbtp_settings.strings.themes,itemsName:window.wpmdbtp_settings.strings.themes}}),t.is_plugins_migration&&u.current_migration.model.addStage("plugins",[],r,{strings:{stage_title:window.wpmdbtp_settings.strings.plugins,itemsName:window.wpmdbtp_settings.strings.plugins}}))},this.startFileMigration=function(){var e=window.wpmdb;t.next_stage=a("#migrate_themes").is(":checked")?"themes":"plugins";var n=t;return a("#media-files").is(":checked")?a.wpmdb.add_action("wpmdbmf_media_transfer_complete",function(){e.current_migration.model.setActiveStage(n.next_stage),e.common.next_step_in_migration={fn:n.transfer.initializeTransfer,args:[n.next_stage]},e.functions.execute_next_step(new o.default)}):(e.current_migration.model.setActiveStage(t.next_stage),e.common.next_step_in_migration={fn:t.transfer.initializeTransfer,args:[t.next_stage]},e.functions.execute_next_step(t.transfer)),t.next_stage},this.transfer=new o.default,a(document).ready(function(){t.hooks(),t.is_themes_migration=a("#migrate_themes").is(":checked"),t.is_plugins_migration=a("#migrate_plugins").is(":checked"),t.is_media_files_migraton=a("#media-files").is(":checked")})}return(0,i.default)(e,[{key:"hooks",value:function(){a.wpmdb.add_action("wpmdb_add_migration_stages",this.addThemesPluginsStage),a.wpmdb.add_filter("wpmdb_before_migration_complete_hooks",this.themesPluginsHook)}}]),e}());t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(13)),i=u(n(14)),o=u(n(6)),s=u(n(7)),a=n(8);function u(e){return e&&e.__esModule?e:{default:e}}var c=window.jQuery,l=window.wpmdb,f=window.ajaxurl,d=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"getSelectedPluginsorThemes",value:function(e){return c("#select-"+e).val()}},{key:"doAJAX",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ajax({url:f,type:"POST",cache:!1,data:t});case 2:return n=e.sent,void 0!==(i=JSON.parse(n)).wpmdb_error&&(0,a.throwMDBError)(i),e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeTransfer",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.wpmdb.remove_action("wpmdbmf_media_transfer_complete"),n=this.getSelectedPluginsorThemes(t),i=c("#file-ignores").val(),o={action:"wpmdb_initiate_file_migration",stage:t,migration_state_id:l.migration_state_id,folders:JSON.stringify(n),excludes:JSON.stringify(i),nonce:wpmdb_data.nonces.wpmdb_initiate_file_migration},e.prev=4,e.next=7,this.doAJAX(o);case 7:return s=e.sent,e.abrupt("return",(0,a.doNextStep)(this.getQueueItems,[t,s],this));case 11:e.prev=11,e.t0=e.catch(4),(0,a.handleAjaxError)(wpmdbtp_settings.strings.file_transfer_error,e.t0);case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getQueueItems",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n){var i,o,s,u,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={action:"wpmdb_get_queue_items",stage:t,offset:f,migration_state_id:l.migration_state_id,nonce:wpmdb_data.nonces.wpmdb_get_queue_items},e.prev=1,e.next=4,this.doAJAX(i);case 4:if("complete"!==(o=e.sent).status){e.next=7;break}return e.abrupt("return",(0,a.doNextStep)(this.recursiveTransferFiles,[t,o],this));case 7:l.current_migration.setText(window.wpmdbtp_settings.strings.loading_transfer_queue),e.t0=r.default.keys(o.items);case 9:if((e.t1=e.t0()).done){e.next=18;break}if(s=e.t1.value,o.items.hasOwnProperty(s)){e.next=13;break}return e.abrupt("continue",9);case 13:u=o.items[s],c=u.size/1e3,l.current_migration.model.addStageItem(t,u.nice_name,c,null,u.nice_name),e.next=9;break;case 18:return e.abrupt("return",(0,a.doNextStep)(this.getQueueItems,[t,o,o.offset],this));case 21:e.prev=21,e.t2=e.catch(1),(0,a.handleAjaxError)(wpmdbtp_settings.strings.file_transfer_error,e.t2);case 24:case"end":return e.stop()}},e,this,[[1,21]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"recursiveTransferFiles",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,o,s,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:"wpmdb_transfer_files",stage:t,migration_state_id:l.migration_state_id,nonce:wpmdb_data.nonces.wpmdb_transfer_files},e.prev=1,e.next=4,this.doAJAX(n);case 4:if("complete"!==(i=e.sent).status){e.next=8;break}return l.current_migration.setText(" "),e.abrupt("return",this.determineNextStage(t,i));case 8:if(o=0,!i.hasOwnProperty("status")||void 0===i.status.error){e.next=12;break}throw console.error("Transfer error: "+i.status.message+" "),new Error(""+i.status.message);case 12:s=function(){if(!i.status.hasOwnProperty(u))return"continue";var e=i.status[u];e.error&&console.error(e),l.current_migration.setText(window.wpmdbtp_settings.strings.current_transfer+e.nice_name),setTimeout(function(){l.current_migration.model.getStageModel(t).setItemPercentTransferred(e.nice_name,e.folder_percent_transferred,e.batch_size,e.folder_transferred)},o),o+=40},e.t0=r.default.keys(i.status);case 14:if((e.t1=e.t0()).done){e.next=21;break}if(u=e.t1.value,"continue"!==s()){e.next=19;break}return e.abrupt("continue",14);case 19:e.next=14;break;case 21:return e.abrupt("return",(0,a.doNextStep)(this.recursiveTransferFiles,[t],this));case 24:e.prev=24,e.t2=e.catch(1),(0,a.handleAjaxError)(wpmdbtp_settings.strings.file_transfer_error,e.t2);case 27:case"end":return e.stop()}},e,this,[[1,24]])}));return function(t){return e.apply(this,arguments)}}()},{key:"determineNextStage",value:function(e,t){var n="";return"themes"===e&&c("#migrate_plugins").is(":checked")?(l.current_migration.model.setActiveStage("plugins"),n=(0,a.doNextStep)(this.initializeTransfer,["plugins"],this)):"plugins"!==e&&"themes"!==e||"complete"===t.status&&(n=l.functions.wpmdb_call_next_hook()),n}}]),e}();t.default=d},function(e,t,n){"use strict";var r=n(43);r.keys().forEach(function(e){r(e)})},function(e,t,n){var r={"./js/class/ThemePluginFilesBase.js":44,"./js/class/ThemePluginFilesMigration.js":86,"./js/class/ThemePluginFilesTransfer.js":87,"./js/script.js":88,"./sass/styles.scss":90};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=43},function(e,t,n){var r=window.jQuery;Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(13)),o=c(n(14)),s=c(n(6)),a=c(n(7)),u=c(n(40));n(8);function c(e){return e&&e.__esModule?e:{default:e}}r=window.jQuery;var l=window.wpmdb,f=window.ajaxurl,d=function(){function e(){var t=this;return(0,s.default)(this,e),this.themesCheckBox=document.getElementById("migrate_themes"),this.themesSelector=document.getElementById("select-themes"),this.pluginsCheckBox=document.getElementById("migrate_plugins"),this.pluginsSelector=document.getElementById("select-plugins"),this.themesPluginsWrappers=document.getElementsByClassName("themes-plugins-options"),this.filtered=!1,l.t_and_p={remote_connection_data:{}},r(document).ready(function(){t.hooks(),r(".migrate-db-button").bindFirst("click",function(e){return-1!==["push","pull"].indexOf(l.functions.wpmdb_migration_type())&&(r("#migrate_themes").is(":checked")&&null===r("#select-themes").val()?(alert(window.wpmdbtp_settings.strings.select_themes),e.stopImmediatePropagation(),!1):r("#migrate_plugins").is(":checked")&&null===r("#select-plugins").val()?(alert(window.wpmdbtp_settings.strings.select_plugins),e.stopImmediatePropagation(),!1):void 0)})}),new u.default}return(0,a.default)(e,[{key:"hooks",value:function(){var e=this;r.wpmdb.add_action("move_connection_info_box",function(){r(e.themesPluginsWrappers).addClass("hidden"),r(".themes-plugins-errors").hide(),r(".exclude-paths").hide(),e.maybeShowExcludes()}),r.wpmdb.add_action("verify_connection_to_remote_site",this.verify_connection_to_remote,"",this)}},{key:"verify_connection_to_remote",value:function(e){var t=l.functions.wpmdb_migration_type();return l.t_and_p.remote_connection_data=e,l.t_and_p.remote_theme_plugin_files_available=e.remote_theme_plugin_files_available,void 0===l.t_and_p.remote_theme_plugin_files_available?(r(".themes-plugins-migration-unavailable").show(),this.hide_show_options(),!1):void 0!==l.t_and_p.remote_connection_data.theme_plugin_files_version&&wpmdb_data.theme_plugin_files_version!==l.t_and_p.remote_connection_data.theme_plugin_files_version?(r(".themes-plugins-remote-location").html(l.t_and_p.remote_connection_data.url),r(".themes-plugins-remote-version").html(l.t_and_p.remote_connection_data.theme_plugin_files_version),r(".themes-plugins-different-plugin-version-notice").show(),this.hide_show_options(),!1):(-1!==["push","pull"].indexOf(t)&&(r(this.themesPluginsWrappers).removeClass("hidden"),this.populateThemeList(t),this.populatePluginList(t)),!0)}},{key:"hide_show_options",value:function(){r(".themes-plugins-errors").show(),r("#migrate_themes").prop("checked",!1),r("#migrate_plugins").prop("checked",!1),r(".themes-plugins-options").addClass("hidden"),r(this.themesPluginsWrappers).removeClass("hidden").addClass("disabled").find(".select-wrap").hide(),r(this.themesPluginsWrappers).find("*").attr("disabled","disabled"),r(".exclude-paths").addClass("disabled").find(".expandable-content").hide(),r(".exclude-paths .header-expand-collapse").unbind("click")}},{key:"getSiteData",value:function(e,t){var n=wpmdb_data.site_details[t];return"pull"===e&&(n=l.t_and_p.remote_connection_data.site_details[t]),n}},{key:"getData",value:function(){var e=(0,o.default)(i.default.mark(function e(t,n){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={action:n,nonce:t},e.next=3,r.ajax({url:f,type:"POST",cache:!1,data:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"populateThemeList",value:function(e){var t=this.getSiteData(e,"themes");this.populateSelect(this.filterThemes(t),this.themesSelector,"themes")}},{key:"populatePluginList",value:function(e){var t=this.getSiteData(e,"plugins");this.populateSelect(t,this.pluginsSelector,"plugins")}},{key:"filterThemes",value:function(e){var t=JSON.parse(JSON.stringify(e));for(var n in e){var r=e[n][0].name;e[n][0].active?t[n][0].name=r+" "+window.wpmdbtp_settings.strings.theme_active:t[n][0].name=r}return t}},{key:"filterProfile",value:function(e,t){if(!0===wpmdb_default_profile)return"themes"===t&&e.active;var n=window.wpmdbtp_settings.loaded_profile["select_"+t];return n&&0!==n.length?-1!==n.indexOf(e.path)||void 0:e}},{key:"populateSelect",value:function(e,t,n){for(var r in t.innerHTML="",e){var i=document.createElement("option");i.value=e[r][0].path,i.text=e[r][0].name,this.filterProfile(e[r][0],n)&&(i.selected="selected"),t.appendChild(i)}}},{key:"showExcludes",value:function(e){e.show(),e.find(".expandable-content").show(),e.find(".expand-collapse-arrow").removeClass("collapsed")}},{key:"maybeShowExcludes",value:function(){var e=this,t=r(".exclude-paths"),n=r(".themes-plugins-toggle");n.is(":checked")&&-1!==["push","pull"].indexOf(l.functions.wpmdb_migration_type())&&this.showExcludes(t),n.on("change",function(){n.is(":checked")?e.showExcludes(t):(t.hide(),t.find(".expandable-content").hide(),t.find(".expand-collapse-arrow").addClass("collapsed"))})}}]),e}();t.default=d},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(46),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=y;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={},_={};_[s]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(M([])));v&&v!==r&&i.call(v,s)&&(_=v);var w=S.prototype=b.prototype=Object.create(_);k.prototype=w.constructor=S,S.constructor=k,S[u]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(w),e},l.awrap=function(e){return{__await:e}},P(j.prototype),j.prototype[a]=function(){return this},l.AsyncIterator=j,l.async=function(e,t,n,r){var i=new j(y(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},P(w),w[u]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function y(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new L(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function b(){}function k(){}function S(){}function P(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function j(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,s){var a=x(e[n],e,r);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},s)}s(a.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=x(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(48),__esModule:!0}},function(e,t,n){n(49),n(50),n(65),n(69),n(81),n(82),e.exports=n(2).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(51)(!0);n(27)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(19),i=n(20);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){e.exports=!n(5)&&!n(28)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";var r=n(56),i=n(29),o=n(25),s={};n(4)(s,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(3),i=n(57),o=n(33),s=n(24)("IE_PROTO"),a=function(){},u=function(){var e,t=n(22)("iframe"),r=o.length;for(t.style.display="none",n(34).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(10),i=n(3),o=n(58);e.exports=n(5)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,u=0;a>u;)r.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var r=n(59),i=n(33);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(17),i=n(23),o=n(61)(!1),s=n(24)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(23),i=n(30),o=n(62);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(19),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(17),i=n(64),o=n(24)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(66);for(var r=n(0),i=n(4),o=n(12),s=n(1)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(67),i=n(68),o=n(12),s=n(23);e.exports=n(27)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,s,a=n(21),u=n(0),c=n(15),l=n(35),f=n(9),d=n(11),p=n(16),h=n(70),m=n(71),_=n(36),g=n(37).set,v=n(76)(),w=n(26),y=n(38),x=n(77),b=n(39),k=u.TypeError,S=u.process,P=S&&S.versions,j=P&&P.v8||"",O=u.Promise,T="process"==l(S),E=function(){},L=i=w.f,M=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(E,E)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t&&0!==j.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{a?(i||(2==e._h&&I(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?c(k("Promise-chain cycle")):(o=A(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!s&&l.exit(),c(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){g.call(u,function(){var t,n,r,i=e._v,o=F(e);if(o&&(t=y(function(){T?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=T||F(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},F=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(e){g.call(u,function(){var t;T?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=A(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,c(B,r,1),c(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};M||(O=function(e){h(this,O,"Promise","_h"),p(e),r.call(this);try{e(c(B,this,1),c(R,this,1))}catch(e){R.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(78)(O.prototype,{then:function(e,t){var n=L(_(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(B,e,1),this.reject=c(R,e,1)},w.f=L=function(e){return e===O||e===s?new o(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:O}),n(25)(O,"Promise"),n(79)("Promise"),s=n(2).Promise,f(f.S+f.F*!M,"Promise",{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!M),"Promise",{resolve:function(e){return b(a&&this===s?O:this,e)}}),f(f.S+f.F*!(M&&n(80)(function(e){O.all(e).catch(E)})),"Promise",{all:function(e){var t=this,n=L(t),r=n.resolve,i=n.reject,o=y(function(){var n=[],o=0,s=1;m(e,!1,function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=L(t),r=n.reject,i=y(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(15),i=n(72),o=n(73),s=n(3),a=n(30),u=n(74),c={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,m,_,g=d?function(){return e}:u(e),v=r(n,f,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=a(e.length);p>w;w++)if((_=t?v(s(h=e[w])[0],h[1]):v(e[w]))===c||_===l)return _}else for(m=g.call(e);!(h=m.next()).done;)if((_=i(m,v,h.value,t))===c||_===l)return _}).BREAK=c,t.RETURN=l},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(12),i=n(1)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(35),i=n(1)("iterator"),o=n(12);e.exports=n(2).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(0),i=n(37).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(18)(s);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(0).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(4);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(10),s=n(5),a=n(1)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(9),i=n(2),o=n(0),s=n(36),a=n(39);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(38);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t,n){n(85);var r=n(2).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(9);r(r.S+r.F*!n(5),"Object",{defineProperty:n(10).f})},function(e,t,n){var r=window.jQuery;Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(6)),o=a(n(7)),s=(n(8),a(n(41)));function a(e){return e&&e.__esModule?e:{default:e}}r=window.jQuery;var u=window.wpmdb,c=(window.ajaxurl,function(){function e(){var t=this;(0,i.default)(this,e),this.themesPluginsHook=function(e,n,r){return!1===t.is_themes_migration&&!1===t.is_plugins_migration||-1===["push","pull"].indexOf(u.functions.wpmdb_migration_type())?e:(e.push(t.startFileMigration),e)},this.addThemesPluginsStage=function(e,n){var i="push"===u.functions.wpmdb_migration_type()?"local":"remote";-1!==["push","pull"].indexOf(u.functions.wpmdb_migration_type())&&(t.is_themes_migration=r("#migrate_themes").is(":checked"),t.is_plugins_migration=r("#migrate_plugins").is(":checked"),t.is_themes_migration&&u.current_migration.model.addStage("themes",[],i,{strings:{stage_title:window.wpmdbtp_settings.strings.themes,itemsName:window.wpmdbtp_settings.strings.themes}}),t.is_plugins_migration&&u.current_migration.model.addStage("plugins",[],i,{strings:{stage_title:window.wpmdbtp_settings.strings.plugins,itemsName:window.wpmdbtp_settings.strings.plugins}}))},this.startFileMigration=function(){var e=window.wpmdb;t.next_stage=r("#migrate_themes").is(":checked")?"themes":"plugins";var n=t;return r("#media-files").is(":checked")?r.wpmdb.add_action("wpmdbmf_media_transfer_complete",function(){e.current_migration.model.setActiveStage(n.next_stage),e.common.next_step_in_migration={fn:n.transfer.initializeTransfer,args:[n.next_stage]},e.functions.execute_next_step(new s.default)}):(e.current_migration.model.setActiveStage(t.next_stage),e.common.next_step_in_migration={fn:t.transfer.initializeTransfer,args:[t.next_stage]},e.functions.execute_next_step(t.transfer)),t.next_stage},this.transfer=new s.default,r(document).ready(function(){t.hooks(),t.is_themes_migration=r("#migrate_themes").is(":checked"),t.is_plugins_migration=r("#migrate_plugins").is(":checked"),t.is_media_files_migraton=r("#media-files").is(":checked")})}return(0,o.default)(e,[{key:"hooks",value:function(){r.wpmdb.add_action("wpmdb_add_migration_stages",this.addThemesPluginsStage),r.wpmdb.add_filter("wpmdb_before_migration_complete_hooks",this.themesPluginsHook)}}]),e}());t.default=c},function(e,t,n){var r=window.jQuery;Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(13)),o=c(n(14)),s=c(n(6)),a=c(n(7)),u=n(8);function c(e){return e&&e.__esModule?e:{default:e}}r=window.jQuery;var l=window.wpmdb,f=window.ajaxurl,d=function(){function e(){(0,s.default)(this,e)}return(0,a.default)(e,[{key:"getSelectedPluginsorThemes",value:function(e){return r("#select-"+e).val()}},{key:"doAJAX",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ajax({url:f,type:"POST",cache:!1,data:t});case 2:return n=e.sent,void 0!==(o=JSON.parse(n)).wpmdb_error&&(0,u.throwMDBError)(o),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeTransfer",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n,o,s,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.wpmdb.remove_action("wpmdbmf_media_transfer_complete"),n=this.getSelectedPluginsorThemes(t),o=r("#file-ignores").val(),s={action:"wpmdb_initiate_file_migration",stage:t,migration_state_id:l.migration_state_id,folders:JSON.stringify(n),excludes:JSON.stringify(o),nonce:wpmdb_data.nonces.wpmdb_initiate_file_migration},e.prev=4,e.next=7,this.doAJAX(s);case 7:return a=e.sent,e.abrupt("return",(0,u.doNextStep)(this.getQueueItems,[t,a],this));case 11:e.prev=11,e.t0=e.catch(4),(0,u.handleAjaxError)(wpmdbtp_settings.strings.file_transfer_error,e.t0);case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getQueueItems",value:function(){var e=(0,o.default)(i.default.mark(function e(t,n){var r,o,s,a,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={action:"wpmdb_get_queue_items",stage:t,offset:f,migration_state_id:l.migration_state_id,nonce:wpmdb_data.nonces.wpmdb_get_queue_items},e.prev=1,e.next=4,this.doAJAX(r);case 4:if("complete"!==(o=e.sent).status){e.next=7;break}return e.abrupt("return",(0,u.doNextStep)(this.recursiveTransferFiles,[t,o],this));case 7:l.current_migration.setText(window.wpmdbtp_settings.strings.loading_transfer_queue),e.t0=i.default.keys(o.items);case 9:if((e.t1=e.t0()).done){e.next=18;break}if(s=e.t1.value,o.items.hasOwnProperty(s)){e.next=13;break}return e.abrupt("continue",9);case 13:a=o.items[s],c=a.size/1e3,l.current_migration.model.addStageItem(t,a.nice_name,c,null,a.nice_name),e.next=9;break;case 18:return e.abrupt("return",(0,u.doNextStep)(this.getQueueItems,[t,o,o.offset],this));case 21:e.prev=21,e.t2=e.catch(1),(0,u.handleAjaxError)(wpmdbtp_settings.strings.file_transfer_error,e.t2);case 24:case"end":return e.stop()}},e,this,[[1,21]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"recursiveTransferFiles",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n,r,o,s,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:"wpmdb_transfer_files",stage:t,migration_state_id:l.migration_state_id,nonce:wpmdb_data.nonces.wpmdb_transfer_files},e.prev=1,e.next=4,this.doAJAX(n);case 4:if("complete"!==(r=e.sent).status){e.next=8;break}return l.current_migration.setText(" "),e.abrupt("return",this.determineNextStage(t,r));case 8:if(o=0,!r.hasOwnProperty("status")||void 0===r.status.error){e.next=12;break}throw console.error("Transfer error: "+r.status.message+" "),new Error(""+r.status.message);case 12:s=function(){if(!r.status.hasOwnProperty(a))return"continue";var e=r.status[a];e.error&&console.error(e),l.current_migration.setText(window.wpmdbtp_settings.strings.current_transfer+e.nice_name),setTimeout(function(){l.current_migration.model.getStageModel(t).setItemPercentTransferred(e.nice_name,e.folder_percent_transferred,e.batch_size,e.folder_transferred)},o),o+=40},e.t0=i.default.keys(r.status);case 14:if((e.t1=e.t0()).done){e.next=21;break}if(a=e.t1.value,"continue"!==s()){e.next=19;break}return e.abrupt("continue",14);case 19:e.next=14;break;case 21:return e.abrupt("return",(0,u.doNextStep)(this.recursiveTransferFiles,[t],this));case 24:e.prev=24,e.t2=e.catch(1),(0,u.handleAjaxError)(wpmdbtp_settings.strings.file_transfer_error,e.t2);case 27:case"end":return e.stop()}},e,this,[[1,24]])}));return function(t){return e.apply(this,arguments)}}()},{key:"determineNextStage",value:function(e,t){var n="";return"themes"===e&&r("#migrate_plugins").is(":checked")?(l.current_migration.model.setActiveStage("plugins"),n=(0,u.doNextStep)(this.initializeTransfer,["plugins"],this)):"plugins"!==e&&"themes"!==e||"complete"===t.status&&(n=l.functions.wpmdb_call_next_hook()),n}}]),e}();t.default=d},function(e,t,n){window.jQuery;new(function(e){return e&&e.__esModule?e:{default:e}}(n(89)).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(13)),i=u(n(14)),o=u(n(6)),s=u(n(7)),a=u(n(40));n(8);function u(e){return e&&e.__esModule?e:{default:e}}var c=window.jQuery,l=window.wpmdb,f=window.ajaxurl,d=function(){function e(){var t=this;return(0,o.default)(this,e),this.themesCheckBox=document.getElementById("migrate_themes"),this.themesSelector=document.getElementById("select-themes"),this.pluginsCheckBox=document.getElementById("migrate_plugins"),this.pluginsSelector=document.getElementById("select-plugins"),this.themesPluginsWrappers=document.getElementsByClassName("themes-plugins-options"),this.filtered=!1,l.t_and_p={remote_connection_data:{}},c(document).ready(function(){t.hooks(),c(".migrate-db-button").bindFirst("click",function(e){return-1!==["push","pull"].indexOf(l.functions.wpmdb_migration_type())&&(c("#migrate_themes").is(":checked")&&null===c("#select-themes").val()?(alert(window.wpmdbtp_settings.strings.select_themes),e.stopImmediatePropagation(),!1):c("#migrate_plugins").is(":checked")&&null===c("#select-plugins").val()?(alert(window.wpmdbtp_settings.strings.select_plugins),e.stopImmediatePropagation(),!1):void 0)})}),new a.default}return(0,s.default)(e,[{key:"hooks",value:function(){var e=this;c.wpmdb.add_action("move_connection_info_box",function(){c(e.themesPluginsWrappers).addClass("hidden"),c(".themes-plugins-errors").hide(),c(".exclude-paths").hide(),e.maybeShowExcludes()}),c.wpmdb.add_action("verify_connection_to_remote_site",this.verify_connection_to_remote,"",this)}},{key:"verify_connection_to_remote",value:function(e){var t=l.functions.wpmdb_migration_type();return l.t_and_p.remote_connection_data=e,l.t_and_p.remote_theme_plugin_files_available=e.remote_theme_plugin_files_available,void 0===l.t_and_p.remote_theme_plugin_files_available?(c(".themes-plugins-migration-unavailable").show(),this.hide_show_options(),!1):void 0!==l.t_and_p.remote_connection_data.theme_plugin_files_version&&wpmdb_data.theme_plugin_files_version!==l.t_and_p.remote_connection_data.theme_plugin_files_version?(c(".themes-plugins-remote-location").html(l.t_and_p.remote_connection_data.url),c(".themes-plugins-remote-version").html(l.t_and_p.remote_connection_data.theme_plugin_files_version),c(".themes-plugins-different-plugin-version-notice").show(),this.hide_show_options(),!1):(-1!==["push","pull"].indexOf(t)&&(c(this.themesPluginsWrappers).removeClass("hidden"),this.populateThemeList(t),this.populatePluginList(t)),!0)}},{key:"hide_show_options",value:function(){c(".themes-plugins-errors").show(),c("#migrate_themes").prop("checked",!1),c("#migrate_plugins").prop("checked",!1),c(".themes-plugins-options").addClass("hidden"),c(this.themesPluginsWrappers).removeClass("hidden").addClass("disabled").find(".select-wrap").hide(),c(this.themesPluginsWrappers).find("*").attr("disabled","disabled"),c(".exclude-paths").addClass("disabled").find(".expandable-content").hide(),c(".exclude-paths .header-expand-collapse").unbind("click")}},{key:"getSiteData",value:function(e,t){var n=wpmdb_data.site_details[t];return"pull"===e&&(n=l.t_and_p.remote_connection_data.site_details[t]),n}},{key:"getData",value:function(){var e=(0,i.default)(r.default.mark(function e(t,n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={action:n,nonce:t},e.next=3,c.ajax({url:f,type:"POST",cache:!1,data:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"populateThemeList",value:function(e){var t=this.getSiteData(e,"themes");this.populateSelect(this.filterThemes(t),this.themesSelector,"themes")}},{key:"populatePluginList",value:function(e){var t=this.getSiteData(e,"plugins");this.populateSelect(t,this.pluginsSelector,"plugins")}},{key:"filterThemes",value:function(e){var t=JSON.parse(JSON.stringify(e));for(var n in e){var r=e[n][0].name;e[n][0].active?t[n][0].name=r+" "+window.wpmdbtp_settings.strings.theme_active:t[n][0].name=r}return t}},{key:"filterProfile",value:function(e,t){if(!0===wpmdb_default_profile)return"themes"===t&&e.active;var n=window.wpmdbtp_settings.loaded_profile["select_"+t];return n&&0!==n.length?-1!==n.indexOf(e.path)||void 0:e}},{key:"populateSelect",value:function(e,t,n){for(var r in t.innerHTML="",e){var i=document.createElement("option");i.value=e[r][0].path,i.text=e[r][0].name,this.filterProfile(e[r][0],n)&&(i.selected="selected"),t.appendChild(i)}}},{key:"showExcludes",value:function(e){e.show(),e.find(".expandable-content").show(),e.find(".expand-collapse-arrow").removeClass("collapsed")}},{key:"maybeShowExcludes",value:function(){var e=this,t=c(".exclude-paths"),n=c(".themes-plugins-toggle");n.is(":checked")&&-1!==["push","pull"].indexOf(l.functions.wpmdb_migration_type())&&this.showExcludes(t),n.on("change",function(){n.is(":checked")?e.showExcludes(t):(t.hide(),t.find(".expandable-content").hide(),t.find(".expand-collapse-arrow").addClass("collapsed"))})}}]),e}();t.default=d},function(e,t){window.jQuery}]);
//# sourceMappingURL=bundle-106.js.map